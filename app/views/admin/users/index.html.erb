<h1>User Management Dashboard</h1>

<%= form_with url: admin_users_path, method: :get, local: true do |f| %>
  <div>
    <%= f.label :search, "Search by username or email" %>
    <%= f.text_field :search, value: params[:search] %>
    <%= f.submit "Search" %>
  </div>
<% end %>

<% if @users.any? %>
  <table>
    <thead>
      <tr>
        <th>Username</th>
        <th>Email</th>
        <th>Role</th>
        <th>Account Status</th>
        <th>Report Count</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @users.each do |user| %>
        <tr>
          <td><%= user.username %></td>
          <td><%= user.email %></td>
          <td><%= user.role %></td>
          <td><%= user.account_status %></td>
          <td><%= user.report_count %></td>
          <td><%= link_to "View Details", admin_user_path(user) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No users found</p>
<% end %>

