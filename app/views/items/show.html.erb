<h1><%= @item.title %></h1>

<!-- IMAGE -->
<% if @item.image.attached? %>
  <div style="margin-bottom: 20px;">
    <%= image_tag @item.image, style: "max-width: 300px; border-radius: 8px;" %>
  </div>
<% end %>

<!-- DETAILS -->
<p><strong>Price per day:</strong> <%= number_to_currency(@item.price) %></p>
<p><strong>Description:</strong> <%= @item.description %></p>
<p><strong>Category:</strong> <%= @item.category %></p>
<p><strong>Availability:</strong> <%= @item.availability_status %></p>
<p><strong>Owner:</strong> <%= @item.owner.username %></p>

<hr>

<!-- ACTION BUTTONS -->
<div style="display: flex; gap: 15px; margin-top: 20px;">

  <% if user_signed_in? %>

    <% if current_user != @item.owner %>
      <!-- REQUEST BOOKING -->
      <%= link_to "Request Booking", "#",
                  style: "padding: 10px 15px; background: #4CAF50; color: white; border-radius: 5px;" %>

<% end %>



    <!-- ADMIN REMOVE LISTING -->
    <% if current_user.role == "admin" %>
      <%= button_to "Remove Listing",
                    admin_item_path(@item),
                    method: :delete,
                    style: "padding: 10px 15px; background: #dc3545; color: white; border-radius: 5px;" %>
    <% end %>

  <% else %>
    <p>You must <%= link_to "sign in", new_user_session_path %> to request a booking.</p>
  <% end %>

</div>
